<div class="container mx-auto px-4 py-8">

  <!-- GRID de noticias -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    <div *ngFor="let noticia of noticias; trackBy: trackById"
         class="bg-white rounded-xl shadow-2xl overflow-hidden transform hover:scale-[1.02] transition-all duration-500 ease-in-out border-t-8"
         [ngClass]="{
            'bg-blue-600 hover:bg-blue-700': noticia.categoria === 'COMPETICIÓN',
            'bg-fuchsia-600 hover:bg-fuchsia-700': noticia.categoria === 'ESCUELA',
            'bg-blue-800 hover:bg-blue-900': noticia.categoria === 'EVENTOS',
            'bg-fuchsia-600 hover:bg-fuchsia-900': noticia.categoria === 'OTROS'
         }">

      <!-- Imagen -->
      <div class="aspect-[4/3] bg-gray-100 flex items-center justify-center overflow-hidden">
        <img [src]="noticia.imagenUrl"
             [alt]="noticia.titulo"
             class="max-w-full max-h-full object-contain"/>
      </div>

      <!-- Contenido -->
      <div class="p-6">
        <div class="flex justify-between items-center mb-3 text-sm">
          <span class="font-bold px-3 py-1 rounded-full text-xs uppercase"
                [ngClass]="{
                  'bg-blue-600 hover:bg-blue-700': noticia.categoria === 'COMPETICIÓN',
                  'bg-fuchsia-600 hover:bg-fuchsia-700': noticia.categoria === 'ESCUELA',
                  'bg-blue-800 hover:bg-blue-900': noticia.categoria === 'EVENTOS',
                  'bg-fuchsia-600 hover:bg-fuchsia-900': noticia.categoria === 'OTROS'
                }">
            {{ noticia.categoria }}
          </span>
          <span class="text-gray-500">{{ noticia.fecha | date:'dd-MM-yyyy' }}</span>
        </div>

        <h3 class="text-xl font-bold mb-3 text-gray-900 leading-snug">{{ noticia.titulo }}</h3>

        <!-- Descripción limitada y line-clamp -->
        <p class="text-gray-600 mb-5 line-clamp-3 break-words">
          {{ noticia.descripcion | shortText:150 }}
        </p>
       <a (click)="verDetalle(noticia.id)"
          class="inline-flex items-center text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 active:scale-95"
          [ngClass]="{
            'bg-blue-600 hover:bg-blue-700': noticia.categoria === 'COMPETICIÓN',
            'bg-fuchsia-600 hover:bg-fuchsia-700': noticia.categoria === 'ESCUELA',
            'bg-blue-800 hover:bg-blue-900': noticia.categoria === 'EVENTOS'
          }">
          Leer Noticia Completa
          <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </div>

  <!-- PAGINACIÓN -->
  <div class="flex justify-center items-center gap-4 mt-8">
    <button (click)="anteriorPagina()"
            [disabled]="page === 0"
            class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-4 rounded disabled:opacity-50">
      Anterior
    </button>
    <span>Página {{ page + 1 }} de {{ totalPaginas }}</span>
    <button (click)="siguientePagina()"
        [disabled]="page + 1 >= totalPaginas"
        class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-4 rounded disabled:opacity-50">
      Siguiente
    </button>
  </div>

</div>
